(this["webpackJsonpcrud-app"]=this["webpackJsonpcrud-app"]||[]).push([[0],{157:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s,d,u=n(0),l=n.n(u),b=n(38),j=n.n(b),p=(n(157),n(12)),h=n(331),f=n(70),x=(n(158),n(61)),m=n.n(x),O=n(8),g=n(9),v=g.b.div(r||(r=Object(O.a)(["\n  max-width: 960px;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 15px;\n  padding-right: 15px;\n"]))),y={white:"#ffffff",clouds:"#f4f4f4",alto:"#dbdbdb",ghost:"#ced4da",silver:"#c8c8c8",trout:"#495057",black:"#000000",blue:"#0000ff"},k=n(3),w=g.b.header(a||(a=Object(O.a)(["\n  background: ",";\n  height: 50px;\n  width: 100%;\n  margin-bottom: 30px;\n\n  p {\n    margin: 0;\n    padding: 0;\n    font-weight: bold;\n    padding-top: 15px;\n    font-size: 18px;\n  }\n"])),y.alto),C=function(){return Object(k.jsx)(w,{children:Object(k.jsx)(v,{children:Object(k.jsx)("p",{children:"Logo"})})})},S=n(104),$=g.b.tr(i||(i=Object(O.a)(["\n  &:nth-child(2n) {\n    background: ",";\n  }\n\n  thead & {\n    td {\n      font-weight: bold;\n      background: ",";\n      height: 50px;\n    }\n  }\n"])),y.clouds,y.alto),z=function(e){var t=e.children;return Object(k.jsx)($,{children:t})},A=n(11),D=n(73),M=n(24),T=g.b.button(c||(c=Object(O.a)(["\n  background: ",";\n  color:  ",";\n  border: 3px solid ",";\n  border-radius: 8px;\n\n\n  ","\n  ",";\n  ",";\n"])),y.alto,y.black,y.clouds,Object(M.a)({size:"medium"},Object(g.a)(o||(o=Object(O.a)(["\n      padding: 10px 20px;\n    "])))),Object(M.a)({size:"small"},Object(g.a)(s||(s=Object(O.a)(["\n      padding: 5px 10px;\n    "])))),Object(M.a)("$margin",Object(g.a)(d||(d=Object(O.a)(["\n      margin: ",";\n    "])),Object(M.b)("$margin")))),F=function(e){var t=e.title,n=e.size,r=e.$margin,a=e.onClick,i=Object(D.a)(e,["title","size","$margin","onClick"]);return Object(k.jsx)(T,Object(A.a)(Object(A.a)({size:n,$width:"120px",$margin:r,onClick:a},i),{},{children:t}))};F.defaultProps={size:"medium"};var U,E=F,N=n(33),q=n.n(N),L=g.b.p(U||(U=Object(O.a)(["\n  text-align: ",";\n  margin-top: ",";\n  margin-bottom: ",";\n  font-size: ","\n"])),Object(M.b)("$textAlign","left"),Object(M.b)("$marginTop","0"),Object(M.b)("$marginBottom","8px"),Object(M.b)("$fontSize","inherit"));L.propTypes={$textAlign:q.a.oneOf(["left","center","right"]),$marginTop:q.a.string,$marginBottom:q.a.string};var Q,B,I,P,J=L,K=(n(79),n(22)),V=n(76),W=n(98),_=n.n(W),R={overlay:{position:"fixed",overflowY:"scroll",zIndex:2,padding:"27px 0",height:"100%"},content:{inset:0,width:"90%",margin:"0 auto",overflow:"initial",background:"transparent",maxWidth:"800px",height:"auto",display:"flex",justifyContent:"center"}},Y=g.b.div(Q||(Q=Object(O.a)(["\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 1px 1px 4px ",";\n  border: 1px solid ",";\n  padding: 36px;\n  position: relative;\n  width: 100%;\n"])),y.white,y.silver,y.silver),G=g.b.button(B||(B=Object(O.a)(["\n  cursor: pointer;\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border: 0;\n  top: 16px;\n  right: 16px;\n  background: transparent;\n  padding: 0;\n  font-size: 24px;\n"]))),H=function(e){var t=e.className,n=e.children,r=e.title,a=e.closeModal;return Object(k.jsx)(m.a,{isOpen:!0,style:R,bodyOpenClassName:"modal-open",onRequestClose:a,className:_()("modal-content",t),shouldCloseOnOverlayClick:!0,children:Object(k.jsxs)(Y,{children:[r&&Object(k.jsx)(J,{as:"h3",className:"modal-title",$marginBottom:"36px",$fontSize:"20px",children:r}),n,Object(k.jsx)(G,{onClick:a,children:"\xd7"})]})})},X=g.b.div(I||(I=Object(O.a)([""]))),Z=g.b.input(P||(P=Object(O.a)(["\n  border: "," 1px solid;\n  border-radius: 8px;\n  display: block;\n  width: calc(100% - 20px);\n  margin-bottom: 10px;\n  height 40px;\n  padding-left: 10px;\n  padding-right: 10px;\n  outline: none;\n\n\n  ::placeholder {\n    color: ","\n  }\n\n"])),y.ghost,y.ghost),ee=function(e){var t=e.type,n=Object(D.a)(e,["type"]),r=Object(K.c)(n),a=Object(p.a)(r,2),i=a[0],c=a[1];return Object(k.jsxs)(X,{children:[Object(k.jsx)(Z,Object(A.a)(Object(A.a)({type:t},i),n)),c.touched&&c.error&&Object(k.jsx)("div",{children:c.error})]})};ee.defaultProps={type:"text"};var te,ne,re,ae,ie=ee,ce=n(149),oe=n.n(ce),se=g.b.div(te||(te=Object(O.a)(["\n  .react-datepicker-wrapper {\n    display: block;\n  }\n  .react-datepicker__input-container input {\n    border: "," 1px solid;\n    border-radius: 8px;\n    display: block;\n    width: calc(100% - 20px);\n    margin-bottom: 10px;\n    height 40px;\n    padding-left: 10px;\n    padding-right: 10px;\n    outline: none;\n\n    ::placeholder {\n      color: ","\n    }\n  }\n"])),y.ghost,y.ghost),de=function(e){var t=Object(K.c)(e),n=Object(p.a)(t,1)[0];return Object(k.jsx)(se,{children:Object(k.jsx)(oe.a,Object(A.a)(Object(A.a)({},n),e))})},ue=n(13),le=n.n(ue),be=n(30),je=n(52),pe=n.n(je),he=n(332),fe=n(333),xe=n(107),me=n.n(xe),Oe=n(14),ge=function(e){return e?{predicate:function(t){var n=t.queryKey;return n[1]&&e(n[1])}}:{}},ve=function(e,t,n,r){var a=[];return e.getQueryCache().findAll(t,ge(n)).forEach((function(t){var n=e.getQueryData(t);if(n&&n.pages){var i,c=n&&n.pages||[];c.forEach((function(e,t){var n=r(e);n&&n!==e&&((i=i||Object(Oe.a)(c))[t]=n)})),i&&a.push({key:t,oldData:n,newData:Object(A.a)(Object(A.a)({},n),{},{pages:i})})}else{var o=n?r(n):null;o&&o!==n&&a.push({key:t,newData:o,oldData:n})}})),a},ye=function(){var e=Object(f.b)(),t=e.getQueryCache();return Object(u.useMemo)((function(){return{mutate:function(t,n,r){var a=ve(e,t,n,r);return{commit:function(){a.forEach((function(t){e.setQueryData(t.key,t.newData)}))},rollback:function(){a.forEach((function(t){return e.setQueryData(t.key,t.oldData)}))}}},invalidate:function(){var t=Object(be.a)(le.a.mark((function t(n,r){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.invalidateQueries(n,ge(r));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),reset:function(){var n=Object(be.a)(le.a.mark((function n(r,a){var i,c=arguments;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=!(c.length>2&&void 0!==c[2])||c[2],t.findAll(r,ge(a)).forEach((function(n){if(i||!n.isActive())e.resetQueries(n.queryKey);else var r=t.subscribe((function(){n.isActive()||(r(),e.resetQueries(n.queryKey))}))}));case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),[e,t])},ke={apiUrl:"//60fd183d1fa9e90017c70d64.mockapi.io"},we={Users:function(){return"users"}},Ce=function(){var e=Object(be.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe()("".concat(ke.apiUrl,"/api/v1/users"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(be.a)(le.a.mark((function e(t){var n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,pe()("".concat(ke.apiUrl,"/api/v1/users/").concat(n),{method:"put",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(be.a)(le.a.mark((function e(t){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe()("".concat(ke.apiUrl,"/api/v1/users/").concat(t),{method:"delete",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(be.a)(le.a.mark((function e(t){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe()("".concat(ke.apiUrl,"/api/v1/users"),{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=ye(),t=Object(fe.a)((function(e){var t=e.mutationFn;return t}),{onMutate:function(t){var n=t.onMutate;return n?n(e):{}},onSettled:function(t,n,r,a){var i=r.onComplete,c=r.onError,o=r.onSuccess,s=a.transaction;t&&!n&&o&&o(t,e),n&&c&&c(n),n&&s&&s.rollback(),i&&i(t,n)}}).mutate,n=Object(u.useCallback)((function(e,n){var r=Se(e);t({mutationFn:r,onSuccess:function(t,n){n.mutate(we.Users(),null,(function(t){var n=t.findIndex((function(t){return t.id===e.id}));if(t[n]){var r=me()(t);return r[n].name=e.name,r[n].surname=e.surname,r[n].middlename=e.middlename,r[n].dateofbirth=e.dateofbirth,r[n].address=e.address,r}return null})).commit()},onComplete:n})}),[t]),r=Object(u.useCallback)((function(e,n){var r=$e(e);t({mutationFn:r,onSuccess:function(t,n){n.mutate(we.Users(),null,(function(t){var n=t.findIndex((function(t){return t.id===e}));if(t[n]){var r=me()(t);return r.splice(n,1),r}return null})).commit()},onComplete:n})}),[t]),a=Object(u.useCallback)((function(e,n){var r=ze(e);t({mutationFn:r,onSuccess:function(e,t){t.reset(we.Users(),null)},onComplete:n})}),[t]);return Object(u.useMemo)((function(){return{update:n,create:a,delete:r}}),[n,a,r])},De=g.b.div(ne||(ne=Object(O.a)(["\n  width: 100%;\n"]))),Me=V.a().shape({name:V.b().min(2,"Too Short!").max(50,"Too Long!").required("Name is required"),surname:V.b().min(2,"Too Short!").max(50,"Too Long!").required("Surname is required")}),Te=function(e){var t=e.title,n=e.closeModal,r=e.profile,a=Ae(),i=!!r,c=r?Object(A.a)(Object(A.a)({},r),{},{dateofbirth:r.dateofbirth?new Date(r.dateofbirth):""}):{name:"",surname:"",middlename:"",dateofbirth:"",address:""};return Object(k.jsx)(H,{title:t,closeModal:n,children:Object(k.jsx)(De,{children:Object(k.jsx)(K.b,{initialValues:c,onSubmit:function(e,t){var r=t.setSubmitting;i?a.update(e,(function(){r(!1),n()})):a.create(e,(function(){r(!1),n()}))},validationSchema:Me,children:function(e){var t=e.values,n=e.isSubmitting,r=e.setFieldValue;return Object(k.jsxs)(K.a,{children:[Object(k.jsx)(ie,{placeholder:"Surname",type:"text",maxLength:30,name:"surname"}),Object(k.jsx)(ie,{placeholder:"Name",type:"text",maxLength:30,name:"name"}),Object(k.jsx)(ie,{placeholder:"Middle name",type:"text",maxLength:30,name:"middlename"}),Object(k.jsx)(de,{name:"dateofbirth",placeholderText:"Date OF Birth",selected:t.dateofbirth,onChange:function(e){return r("dateofbirth",e)}}),Object(k.jsx)(ie,{placeholder:"Address",type:"text",maxLength:30,name:"address"}),Object(k.jsx)(J,{$textAlign:"right",children:Object(k.jsx)(E,{type:"submit",title:"Save",size:"medium",disabled:n})})]})}})})})},Fe=g.b.div(re||(re=Object(O.a)(["\n  width: 100%;\n"]))),Ue=function(e){var t=e.title,n=e.closeModal,r=e.profile,a=Ae();return Object(k.jsx)(H,{title:t,closeModal:n,children:Object(k.jsx)(Fe,{children:Object(k.jsx)(K.b,{initialValues:{},onSubmit:function(e,t){var i=t.setSubmitting;a.delete(r.id,(function(){i(!1),n()}))},children:function(e){var t=e.isSubmitting;return Object(k.jsxs)(K.a,{children:[Object(k.jsxs)(J,{children:["Are you sure to delete ",r.surname," ",r.name,"?"]}),Object(k.jsxs)(J,{$textAlign:"right",children:[Object(k.jsx)(E,{type:"submit",title:"Confirm",size:"medium",disabled:t}),Object(k.jsx)(E,{onClick:n,type:"submit",title:"Cancel",size:"medium",disabled:t})]})]})}})})})},Ee=g.b.table(ae||(ae=Object(O.a)(["\n  height: 60vh;\n  width: 100%;\n  border: 3px solid ",";\n"])),y.alto),Ne=function(e){var t=e.data,n=Object(u.useState)(!1),r=Object(p.a)(n,2),a=r[0],i=r[1],c=Object(u.useCallback)((function(e){return i(e)}),[]),o=Object(u.useState)(!1),s=Object(p.a)(o,2),d=s[0],l=s[1],b=Object(u.useCallback)((function(e){return l(e)}),[]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ee,{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)(z,{children:[Object(k.jsx)("td",{children:"Surname"}),Object(k.jsx)("td",{children:"Name"}),Object(k.jsx)("td",{children:"Patronymic"}),Object(k.jsx)("td",{children:"Date of birth"}),Object(k.jsx)("td",{children:"Address"}),Object(k.jsx)("td",{})]})}),Object(k.jsx)("tbody",{children:t.map((function(e,t){return Object(k.jsxs)(z,{children:[Object(k.jsx)("td",{children:e.surname}),Object(k.jsx)("td",{children:e.name}),Object(k.jsx)("td",{children:e.middlename}),Object(k.jsx)("td",{children:Object(S.default)(new Date(e.dateofbirth),"yyyy-MM-dd")}),Object(k.jsx)("td",{children:e.address}),Object(k.jsx)("td",{children:Object(k.jsxs)(J,{as:"div",$marginBottom:"0",$textAlign:"center",children:[Object(k.jsx)(E,{title:"Edit",size:"small",$margin:"0 5px 0 5px",onClick:c.bind(null,e)})," ",Object(k.jsx)(E,{title:"Del",size:"small",$margin:"0 5px 0 5px",onClick:b.bind(null,e)})]})})]},t)}))})]}),a&&Object(k.jsx)(Te,{title:"Edit user",closeModal:function(){return i(!1)},profile:a}),d&&Object(k.jsx)(Ue,{title:"Delete user",closeModal:function(){return l(!1)},profile:d})]})},qe=function(){var e=Object(he.a)(we.Users(),Ce),t=e.data;return e.isSuccess?Object(k.jsx)(Ne,{data:t}):Object(k.jsx)("div",{children:"loading..."})},Le=new h.a({defaultOptions:{queries:{staleTime:1/0,retry:!1,refetchOnWindowFocus:!1}}});m.a.setAppElement("#root");var Qe=function(){var e=Object(u.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(k.jsxs)(f.a,{client:Le,children:[Object(k.jsx)(C,{}),Object(k.jsxs)(v,{children:[Object(k.jsx)(J,{$textAlign:"right",children:Object(k.jsx)(E,{title:"Add",size:"medium",onClick:function(){return r(!0)}})}),Object(k.jsx)(qe,{})]}),n&&Object(k.jsx)(Te,{title:"Add New User",closeModal:function(){return r(!1)}})]})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,334)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};j.a.render(Object(k.jsx)(l.a.StrictMode,{children:Object(k.jsx)(Qe,{})}),document.getElementById("root")),Be()}},[[324,1,2]]]);
//# sourceMappingURL=main.86bb6c71.chunk.js.map